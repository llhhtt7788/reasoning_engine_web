# --------------------------------------------------------------------------------------
# Local / server environment config
#
# NOTE:
# - In Next.js, files like `.env.local` are commonly used for local development.
# - This repo currently also includes a `.env` file. Treat it as an example for dev/testing.
# - For production deployment, ensure your process manager/container actually loads these env vars.
# --------------------------------------------------------------------------------------

# =========================
# Chat API endpoint (used in the browser)
# =========================
# This endpoint is called by the frontend to send chat messages (SSE streaming supported).
#
# Production rule: do NOT point to localhost. Use your public backend URL.
# Example:
#   NEXT_PUBLIC_API_URL=https://your-backend.example.com/api/v1/chat/context
#
# Streaming flags:
# - Some code paths append stream/sse flags automatically.
# - If you hardcode "?stream=true&sse=true" here, it will be always-on.
NEXT_PUBLIC_API_URL=http://localhost:11211/api/v3/communicate

# =========================
# Backend origin for Next.js server proxy routes (Knowledge Uploads etc.)
# =========================
# If you use Knowledge Uploads in production, you MUST set this on the Next.js server.
# Must be only protocol + host + optional port (NO /api path).
#
# Example:
#   NEXT_PUBLIC_BACKEND_BASE_URL=http://10.0.0.12:11211
#   NEXT_PUBLIC_BACKEND_BASE_URL=https://your-backend.example.com
#
# (Not currently set here; if missing, some routes will fall back to http://localhost:11211)
NEXT_PUBLIC_BACKEND_BASE_URL=http://localhost:11211

# =========================
# Request logging (server-side, for Next.js proxy routes)
# =========================
# When enabled, Next route handlers will log request metadata into REQUEST_LOG_DIR.
# Useful for debugging 4xx/5xx when deploying behind a reverse proxy.
ENABLE_REQUEST_LOGS=1
REQUEST_LOG_DIR=logs
REQUEST_LOG_MAX_BYTES=262144

# =========================
# Identity defaults (optional)
# =========================
# When the UI doesn't provide a user id, these defaults are used.
NEXT_PUBLIC_USER_ID=10001

# =========================
# Optional model/prompt parameters
# =========================
# NEXT_PUBLIC_SYSTEM_PROMPT=你是一个有用的AI助手
# NEXT_PUBLIC_LLM_INDEX=0
# NEXT_PUBLIC_TENANT_ID=
# NEXT_PUBLIC_USER_ID=
# NEXT_PUBLIC_APP_ID=
# NEXT_PUBLIC_THREAD_ID=
