# Reasoning Engine Web

åŒ»å­¦ / å†³ç­–æ¨ç†åŠ©æ‰‹ - æ”¯æŒ Gradio å’Œ Web ä¸¤ç§ç•Œé¢çš„èŠå¤©åº”ç”¨

## é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªåŸºäº AI æ¨ç†å¼•æ“çš„èŠå¤©åº”ç”¨ï¼Œæä¾›ä¸¤ç§ç”¨æˆ·ç•Œé¢ï¼š
- **Gradio ç•Œé¢**: å¿«é€ŸåŸå‹å’Œæµ‹è¯•
- **Web ç•Œé¢**: å®Œæ•´çš„ç”Ÿäº§çº§ Web åº”ç”¨ï¼ˆFlask + HTML/CSS/JavaScriptï¼‰

## åŠŸèƒ½ç‰¹æ€§

- ğŸ’¬ æµå¼å¯¹è¯å“åº”
- ğŸ§  æ€ç»´é“¾å±•ç¤ºï¼ˆå¦‚æ¨¡å‹æ”¯æŒï¼‰
- ğŸ“‹ æ™ºèƒ½ä¸‹ä¸€æ­¥å»ºè®®
- ğŸ”„ å¯¹è¯å†å²ç®¡ç†
- ğŸ¨ ç°ä»£åŒ–å“åº”å¼ç•Œé¢
- âš¡ å®æ—¶æ¶ˆæ¯æµ

## ç›®å½•ç»“æ„

```
reasoning_engine_web/
â”œâ”€â”€ web/
â”‚   â”œâ”€â”€ app.py                  # Flask åç«¯åº”ç”¨
â”‚   â”œâ”€â”€ gradio_app.py          # Gradio åº”ç”¨ï¼ˆåŸå§‹ç‰ˆæœ¬ï¼‰
â”‚   â”œâ”€â”€ requirements.txt       # Python ä¾èµ–
â”‚   â”œâ”€â”€ static/
â”‚   â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â”‚   â””â”€â”€ style.css      # æ ·å¼è¡¨
â”‚   â”‚   â””â”€â”€ js/
â”‚   â”‚       â””â”€â”€ app.js         # å‰ç«¯ JavaScript
â”‚   â””â”€â”€ templates/
â”‚       â””â”€â”€ index.html         # HTML æ¨¡æ¿
â””â”€â”€ README.md
```

## å®‰è£…æ­¥éª¤

### 1. å…‹éš†ä»“åº“

```bash
git clone https://github.com/llhhtt7788/reasoning_engine_web.git
cd reasoning_engine_web/web
```

### 2. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 3. é…ç½® API ç«¯ç‚¹

ç¡®ä¿åç«¯ API æœåŠ¡è¿è¡Œåœ¨ `http://localhost:11211/api/v1/chat/context`

å¦‚éœ€ä¿®æ”¹ API åœ°å€ï¼Œè¯·ç¼–è¾‘ï¼š
- Web åº”ç”¨: `web/app.py` ä¸­çš„ `API_URL` å˜é‡
- Gradio åº”ç”¨: `web/gradio_app.py` ä¸­çš„ `API_URL` å˜é‡

## ä½¿ç”¨æ–¹æ³•

### æ–¹å¼ä¸€ï¼šWeb åº”ç”¨ï¼ˆæ¨èï¼‰

1. å¯åŠ¨åº”ç”¨ï¼š
```bash
python app.py
```

2. è®¿é—®æµè§ˆå™¨ï¼š
```
http://localhost:7860
```

**å¼€å‘æ¨¡å¼**ï¼ˆå¯ç”¨è°ƒè¯•ï¼‰ï¼š
```bash
export FLASK_DEBUG=true
python app.py
```

âš ï¸ **å®‰å…¨æç¤º**: ç”Ÿäº§ç¯å¢ƒä¸­è¯·å‹¿å¯ç”¨ DEBUG æ¨¡å¼ï¼

### æ–¹å¼äºŒï¼šGradio åº”ç”¨

1. å®‰è£… Gradioï¼š
```bash
pip install gradio
```

2. å¯åŠ¨åº”ç”¨ï¼š
```bash
python gradio_app.py
```

3. è®¿é—®æµè§ˆå™¨ï¼š
```
http://localhost:7860
```

## ä½¿ç”¨è¯´æ˜

1. **å‘é€æ¶ˆæ¯**: åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥é—®é¢˜ï¼Œç‚¹å‡»"å‘é€"æˆ–æŒ‰ Enter é”®
2. **æŸ¥çœ‹æ€ç»´é“¾**: ç‚¹å‡»"æ€ç»´é“¾"æŠ˜å é¢æ¿æŸ¥çœ‹æ¨¡å‹æ¨ç†è¿‡ç¨‹
3. **æŸ¥çœ‹å»ºè®®**: ç‚¹å‡»"ä¸‹ä¸€æ­¥å»ºè®®"æŸ¥çœ‹æ™ºèƒ½æ¨èçš„åç»­è¡ŒåŠ¨
4. **æ¸…ç©ºå¯¹è¯**: ç‚¹å‡»"æ¸…ç©ºå¯¹è¯"æŒ‰é’®é‡ç½®ä¼šè¯

## API æ¥å£è¯´æ˜

### POST /api/chat

å‘é€èŠå¤©æ¶ˆæ¯å¹¶æ¥æ”¶æµå¼å“åº”ã€‚

**è¯·æ±‚ä½“ï¼š**
```json
{
  "message": "ç”¨æˆ·é—®é¢˜",
  "history": [
    {"role": "user", "content": "ä¹‹å‰çš„é—®é¢˜"},
    {"role": "assistant", "content": "ä¹‹å‰çš„å›ç­”"}
  ]
}
```

**å“åº”ï¼š** Server-Sent Events (SSE) æµ

```
data: {"type": "update", "content": "...", "reasoning": "...", "has_reasoning": true}
data: {"type": "complete", "content": "...", "reasoning": "...", "next_actions": ["..."]}
data: {"type": "error", "error": "é”™è¯¯ä¿¡æ¯"}
```

## æŠ€æœ¯æ ˆ

### Web åº”ç”¨
- **åç«¯**: Flask 3.0.0
- **å‰ç«¯**: åŸç”Ÿ HTML/CSS/JavaScript
- **é€šä¿¡**: Server-Sent Events (SSE)
- **æ ·å¼**: å“åº”å¼è®¾è®¡ã€æ¸å˜é…è‰²

### Gradio åº”ç”¨
- **æ¡†æ¶**: Gradio
- **Python**: requests

## å¼€å‘æŒ‡å—

### è‡ªå®šä¹‰æ ·å¼

ç¼–è¾‘ `web/static/css/style.css` ä¿®æ”¹ç•Œé¢æ ·å¼ã€‚

### ä¿®æ”¹åŠŸèƒ½

- **åç«¯é€»è¾‘**: `web/app.py`
- **å‰ç«¯äº¤äº’**: `web/static/js/app.js`
- **é¡µé¢ç»“æ„**: `web/templates/index.html`

### æ·»åŠ åŠŸèƒ½

1. ä¿®æ”¹ `build_next_actions()` å‡½æ•°è‡ªå®šä¹‰å»ºè®®å†…å®¹
2. åœ¨å‰ç«¯ JavaScript ä¸­æ·»åŠ æ–°çš„äº‹ä»¶å¤„ç†
3. æ›´æ–° CSS æ ·å¼ä»¥é€‚é…æ–°åŠŸèƒ½

## æ•…éšœæ’é™¤

### è¿æ¥é”™è¯¯

- ç¡®ä¿åç«¯ API æœåŠ¡æ­£åœ¨è¿è¡Œ
- æ£€æŸ¥ `API_URL` é…ç½®æ˜¯å¦æ­£ç¡®
- éªŒè¯é˜²ç«å¢™å’Œç½‘ç»œè®¾ç½®

### æ ·å¼é—®é¢˜

- æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
- æ£€æŸ¥é™æ€æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®
- æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

## License

MIT License

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼
